<!DOCTYPE html> 
<html> 
  <head> 
    <meta charset="utf-8"> 

    <title>Mestarit</title> 

    <link href="https://fonts.googleapis.com/css?family=Faster+One" rel="stylesheet">  
    <link rel="stylesheet" href="style.css"> 
  </head> 

  <body> 

      <header> 

      </header> 

      <section> 

      </section> 

    <script> 
    var header = document.querySelector('header'); 
    var section = document.querySelector('section'); 
     
	 
	 var requestURL = "http://magnesium/dat16syst/kasmir.moilanen/leena_kehitysymparisto/mestarit.json";
	 var request = new XMLHttpRequest();
	 request.open('GET', requestURL);
	 request.responseType = 'json';
	 request.send();
	 request.onload=function(){
		var mestarit =request.response;
		populateHeader(mestarit);
		naytaMestarit(mestarit);
	 }
	 function populateHeader(jsonobj){
	 var myH1= document.createElement('h1');
	 myH1.textContent = jsonobj['listanNimi'];
	 header.appendChild(myH1);
	 var myPara = document.createElement('p');
	 myPara.textContent = 'kotipaikka ' +jsonobj['kotipaikka'] + ' //perustettu ' + jsonobj['muodostettu'];
	 header.appendChild(myPara);
	 }
	 
	 function naytaMestarit(jsonobj){
		var mestariluettelo= jsonobj['jasenet'];
		for(var i=0;i<mestariluettelo.length;i++){
			var myArticle=document.createElement('article');
			var myh2=document.createElement('h2');
			var myPara1=document.createElement('p');
			var myPara2=document.createElement('p');
			var myPara3=document.createElement('p');
			var mylist=document.createElement('ul');
			myh2.textContent=mestariluettelo[i].nimi;
			myPara1.textContent='lempinimi ' + mestariluettelo[i].lempinimi;
			myPara2.textContent='ikÃ¤ ' + mestariluettelo[i].ika;
			myPara3.textContent='vahvuudet:';
			var vahvuus=mestariluettelo[i].vahvuudet;
			for(var j = 0; j<vahvuus.length;j++){
				var listitem=document.createElement('li');
				listitem.textContent=vahvuus[j];
				mylist.appendChild(listitem);
			}
		    myArticle.appendChild(myh2);
			myArticle.appendChild(myPara1);
			myArticle.appendChild(myPara2);
			myArticle.appendChild(myPara3);
			myArticle.appendChild(mylist);
			section.appendChild(myArticle);
		
		}
		
		
		
		
		
		
		
		
		
		
	 }
    </script> 
  </body> 
</html>